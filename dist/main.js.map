{"version":3,"sources":["main.js"],"names":["Shell","accessControlMatrix","command","question","getActiveDomain","split","dirname","addObject","filename","removeObject","username","addDomain","switchDomain","promptCLLoop","touch","target","remove","console","log","useradd","su","printMatrix","exit","userShell","run"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;IAEqBA;AAEpB,kBAAc;AAAA;;AACb,OAAKC,mBAAL,GAA2B,sBAA3B;AACA;;;;gCACa;AACb,OAAIC,UAAU,uBAAaC,QAAb,OAA0B,KAAKF,mBAAL,CAAyBG,eAAzB,EAA1B,QAAd;AACA,UAAOF,QAAQG,KAAR,CAAc,GAAd,CAAP;AACA;;;uBAEI,CAAE;;;wBAED,CAAE;;;wBAEFC,SAAS;AACd,QAAKL,mBAAL,CAAyBM,SAAzB,CAAmCD,OAAnC;AACA;;;wBAEKE,UAAU;AACf,QAAKP,mBAAL,CAAyBM,SAAzB,CAAmCC,QAAnC;AACA;;;qBAEEA,UAAU;AACZ,QAAKP,mBAAL,CAAyBQ,YAAzB,CAAsCD,QAAtC;AACA;;;wBAEKF,SAAS;AACd,QAAKL,mBAAL,CAAyBQ,YAAzB,CAAsCD,QAAtC;AACA;;;0BAEOE,UAAU;AACjB,QAAKT,mBAAL,CAAyBU,SAAzB,CAAmCD,QAAnC;AACA;;;qBAEEA,UAAU;AACZ,QAAKT,mBAAL,CAAyBW,YAAzB,CAAsCF,QAAtC;AACA;;;wBAEK;AAAA;;AAEL,0BAAaG,YAAb,CAA0B;AACvBC,WAAO,eAACC,MAAD,EAAY;;AAEjB,WAAKD,KAAL,CAAWC,MAAX;AACH,KAJwB;AAKzBC,YAAQ,gBAACD,MAAD,EAAY;;AAEhBE,aAAQC,GAAR,CAAYH,SAAS,cAArB;AACH,KARwB;AASzBI,aAAS,iBAACT,QAAD,EAAc;AACtB,WAAKT,mBAAL,CAAyBU,SAAzB,CAAmCD,QAAnC;AACA,KAXwB;AAYzBU,QAAI,YAACV,QAAD,EAAc;AACjB,WAAKU,EAAL,CAAQV,QAAR;AACA,KAdwB;AAezBW,iBAAa,uBAAM;AAClB,WAAKpB,mBAAL,CAAyBoB,WAAzB;AACA,KAjBwB;AAkBzBC,UAAM,gBAAW;AAChB,YAAO,IAAP;AACA;AApBwB,IAA1B;AAsBAL,WAAQC,GAAR,CAAY,QAAZ;AACA;;;;;;kBA/DmBlB;;;AAkErB,IAAIuB,YAAY,IAAIvB,KAAJ,EAAhB;;AAEAuB,UAAUC,GAAV","file":"main.js","sourcesContent":["import readlineSync from 'readline-sync';\nimport fs from 'fs';\nimport Matrix from './matrix';\n\nexport default class Shell {\n\n\tconstructor() {\n\t\tthis.accessControlMatrix = new Matrix();\n\t}\n\treadCommand() {\n\t\tlet command = readlineSync.question(`$${this.accessControlMatrix.getActiveDomain()}: `);\n\t\treturn command.split(' ');\n\t}\n\n\tls() {}\n\n\tpwd() {}\n\n\tmkdir(dirname) {\n\t\tthis.accessControlMatrix.addObject(dirname);\n\t}\n\n\ttouch(filename) {\n\t\tthis.accessControlMatrix.addObject(filename);\n\t}\n\n\trm(filename) {\n\t\tthis.accessControlMatrix.removeObject(filename);\n\t}\n\n\trmdir(dirname) {\n\t\tthis.accessControlMatrix.removeObject(filename);\n\t}\n\n\tuseradd(username) {\n\t\tthis.accessControlMatrix.addDomain(username);\n\t}\n\n\tsu(username) {\n\t\tthis.accessControlMatrix.switchDomain(username);\t\t\n\t}\n\n\trun() {\n\n\t\treadlineSync.promptCLLoop({\n\t\t  \ttouch: (target) => {\n\n\t\t    \tthis.touch(target);\n\t\t\t},\n\t\t\tremove: (target) => {\n\n\t\t    \tconsole.log(target + ' is removed.');\n\t\t\t},\n\t\t\tuseradd: (username) => { \n\t\t\t\tthis.accessControlMatrix.addDomain(username);\n\t\t\t},\n\t\t\tsu: (username) => {\n\t\t\t\tthis.su(username);\n\t\t\t},\n\t\t\tprintMatrix: () => {\n\t\t\t\tthis.accessControlMatrix.printMatrix();\n\t\t\t},\n\t\t\texit: function() { \n\t\t\t\treturn true; \n\t\t\t}\n\t\t});\n\t\tconsole.log('Exited');\n\t}\n}\n\nlet userShell = new Shell();\n\nuserShell.run();"]}